## 데이터베이스 (Database)

- 일정한 규칙, 혹은 규약을 통해 구조화되어 저장되는 데이터의 모음

## DBMS (DataBase Management System)

- 데이터베이스를 제어, 관리하는 통합 시스템
- 특정 DBMS마다 정의된 쿼리 언어(Query Language)를 통해 삽입, 삭제, 수정, 조회 등을 수행할 수 있다.

## 엔터티 (Entity)

- 여러 개의 속성을 지닌 명사를 의미한다.

### **약한 엔티티와 강한 엔티티**

| **항목** | **강한 엔티티** | **약한 엔티티** |
| --- | --- | --- |
| 고유 식별자(PK) | O | X (강한 엔티티의 PK + 속성 필요) |
| 독립적 존재 가능 | ✅ 독립적이다. | ❌ 의존적이다. |
| 예시 | 학생, 제품, 회사 | 주문 상세, 수강, 예약좌석 |
| 관계 | 일반 관계 | 식별 관계 (Identifying) |
| 표기법(ERD) | 사각형 | **이중 사각형** |

## 릴레이션 (Relation)

- 데이터베이스에서 정보를 구분하여 저장하는 기본 단위
- RDBMS에서는 **테이블**이라고 하며, NoSQL 데이터베이스에서는 **컬렉션**이라고 불린다.

### 테이블과 컬렉션

| 데이터베이스 | RDBMS | NoSQL |
| --- | --- | --- |
| 구조 | 레코드-테이블-데이터베이스 | 도큐먼트-컬렉션-데이터베이스 |

**관계형 모델과 DBMS의 연관성**

| 개념 | 관계형 모델 | 설명 |
| --- | --- | --- |
| 테이블 | 릴레이션(Relation) | 속성 + 튜플의 집합 |
| 컬럼 | 속성(Attribute) | 필드 이름 (ex. 이름, 나이) |
| 행(Row) | 튜플(Tuple) | 하나의 레코드 (ex. 학생 1명) |
| 데이터 타입 | 도메인(Domain) | 각 컬럼이 허용하는 값의 범위 |
| 현실세계 대상 | 엔티티(Entity) | 테이블 자체 또는 튜플 하나 |

### 속성 (Attribute)

- 릴레이션에서 관리하는 구체적이며, 고유한 이름을 갖는 정보
- 서비스의 요구 사항을 기반으로 관리해야 할 필요가 있는 속성들만 엔티티의 속성이 된다.

### 도메인 (Domain)

- 릴레이션에 포함된 각각의 속성들이 가질 수 있는 값의 집합을 말한다.
- 즉, 속성(컬럼)의 타입, 유형, 제약 조건 등을 의미한다.

## 필드와 레코드 (Field & Record)

- 필드와 레코드는 데이터베이스 테이블을 구성하는 기본 요소이다.
- 테이블은 데이터를 행과 열의 형태로 저장하는 구조를 가진다.

### 필드

```sql
CREATE TABLE 학생 (
    학번 INT,
    이름 VARCHAR(50),
    나이 INT,
    전공 VARCHAR(50)
);
```

테이블의 열 (column) 을 말한다. 

- 각 필드는 특정한 유형의 데이터를 저장할 수 있다.
- 예시에서 필드로는 ‘학번’, ‘이름’, ‘나이’, ‘전공’ 이 된다.

### 레코드

```sql
INSERT INTO 학생 (학번, 이름, 나이, 전공) VALUES (1, '홍길동', 20, '컴퓨터공학');
```

테이블의 행(row OR Tuple 튜플) 을 말한다.

- 각 레코드는 필드에 해당하는 실제 데이터 값을 포함하고 있으며 한 개체나 항목을 나타낸다.
- 1, '홍길동', 20, '컴퓨터공학’ 이 레코드가 된다.

### 필드와 레코드의 관계

- 테이블은 여러 개의 필드로 구성된다.
- 각 필드는 특정 유형의 데이터를 저장한다.
- 테이블의 각 행은 여러 필드에 해당하는 실제 데이터 값을 포함하는 레코드이다.
    
    → ‘학생’ 테이블의 경우 여러 학생의 정보를 저장하는 여러 레코드를 포함한다.
    

## 필드 타입

- 필드 타입은 각 필드가 저장할 데이터의 유형을 말한다.

<aside>
✨

**아래는 MySQL의 기준을 들어 작성한 것으로, 다른 관계형 데이터베이스와는 필드 타입들이 각각 다를 수 있다.**

</aside>

**🍀 숫자타입**

| **타입** | **저장 공간** | **최솟값(부호 O)** | **최솟값(부호 X)** | **최댓값(부호 X)** | **최댓값(부호 O)** |
| --- | --- | --- | --- | --- | --- |
| TINYINT | 1바이트 | -128 | 0 | 127 | 255 |
| SMALLINT | 2바이트 | -32768 | 0 | 32767 | 65535 |
| MEDIUMINT | 3바이트 | -8388608 | 0 | 8388607 | 16777215 |
| INT | 4바이트 | -2147483648 | 0 | 2147483647 | 4294967295 |
| BIGINT | 8바이트 | -9223372036854775808 | 0 | 9223372036854775807 | 18446744073709551615 |

**🍀 날짜 & 시간**

- DATE, DATETIME, TIMESTAMP
    - DATE 기본 형식은 'YYYY-MM-DD’ 3Byte 크기 **년부터 일까지**
    - DATETIME 기본 형식은 'YYYY-MM-DD HH:MM:SS’ 8Byte 크기 **년부터 초까지**
    - TIMESTAMP 타임존 영향을 받는다. (자동 변환) 4Byte 크기 **년부터 초까지**
- TIME
    - 기본형식은 'HH:MM:SS’
- YEAR
    - YEAR(2)는 2자리의 연도
    - YEAR(4)는 4자리의 연도

🍀 **문자열 타입**

- CHAR & VARCHAR
    - CHAR는 0부터 255까지 설정 가능 **고정 길이 (수동)**
    - VARCHAR는 0부터 65,535까지 설정 가능 **가변 길이 (유동)**
- BINARY & VARBINARY
    - CHAR와 VARCHAR과 거의 비슷하지만 바이너리 데이터를 저장할 때 사용
- BLOB & TEXT
    - BLOB는 Binary Large Object 의 약자로 다양한 크기의 바이너리 데이터를 저장 가능
        
        → 크기에 따라 TINYBLOB, BLOB, MEDIUMBLOB, LONGBLOB로 구분
        
    - VARCHAR와 비슷하지만, VARCHAR와는 달리 기본값을 가질 수 없음
        
        → 데이터의 최대 크기에 따라 TINYTEXT, TEXT, MEDIUMTEXT, LONGTEXT로 구분
        
- ENUM
    - 집합 안의 요소 중 하나만을 저장
- SET
    - 집합 안의 요소 중 여러 개를 동시에 저장

| 타입 | 용도 | 길이 제한 | 고정/가변 | 기본값 가능? | 특징 |
| --- | --- | --- | --- | --- | --- |
| **CHAR(n)** | 고정 길이 문자열 | 0 ~ 255자 | ✅ 고정 | ✅ 가능 | 남는 공간은 공백으로 채움 |
| **VARCHAR(n)** | 가변 길이 문자열 | 0 ~ 65,535바이트* | ❌ 가변 | ✅ 가능 | 실제 입력한 길이만 저장 |
| **TEXT** (TINY/DEFAULT/MEDIUM/LONG) | 대용량 문자열 | 최대 4GB | ❌ 가변 | ❌ 불가 | 인덱싱 제한, 대용량 텍스트 |
| **BLOB** (TINY/DEFAULT/MEDIUM/LONG) | 대용량 바이너리 | 최대 4GB | ❌ 가변 | ❌ 불가 | 이미지, 파일 등 저장용 |
| **ENUM('A', 'B', ...)** | 지정된 값 중 1개 | 최대 65,535개 항목 | - | ✅ 가능 | 공간 절약, 값 강제 제한 |
| **SET('A', 'B', ...)** | 지정된 값 중 여러 개 | 최대 64개 항목 | - | ✅ 가능 | 다중 선택 가능, 비트 필드로 저장 |

## 관계 (Relationship)

### One-to-One Cardinality (1:1 관계)

- 학생가 신체정보는 1:1로 매칭된다.한명의 학생은 하나의 신체정보를 갖기 때문이다.
- 학생가 신체정보는 1:1로 매칭된다.
- 한명의 학생은 하나의 신체정보를 갖기 때문이다.

![](https://blog.kakaocdn.net/dn/CfV1c/btrT4H68cTG/ngcCCv0C7EGjok34WyloIk/img.png)

![](https://blog.kakaocdn.net/dn/c2og3O/btrT7GlKwNA/ze6IaRtW5rEJeIBPZ27l6k/img.png)

### One-to-Many Cardinality (1:N 관계)

- 한명의 학생은 여러개의 취미를 가질수도 있다.

![](https://blog.kakaocdn.net/dn/13lp3/btrT1FCeoe9/o7sXvuZVL4C9VN2IKGU1nk/img.png)

![](https://blog.kakaocdn.net/dn/bSyJQh/btrT7EIeYUr/A23b37P73CVBfvu6QoetZ0/img.png)

### **Many To Many (N:M 관계)**

- 제품 엔티티 입장에서, TV 제품은 대우 티비, 삼성 티비, 애플 티비 같은 여러 제조업체 제품이 있을 수 있다.이는 냉장고나 세탁기도 마찬가지이다. 여러 기업에서 자신 만의 상표를 생산한다.
- 제조업체 엔티티 입장에서, 삼성 제조업체는 세탁기만 생산하는게 아니라 MP3도 같이 생산한다.실제로 삼성이나 애플 회사는 가전제품, 스마트폰, 전자기기 등 여러 종류의 제품을 생산한다.
- 따라서 제품과 제조업체 관계는 **다 대 다 관계** 된다.

![](https://blog.kakaocdn.net/dn/dZFuSW/btrT4cNcSzB/RprqsIo4NMOnGEvqAtz44k/img.png)

![](https://blog.kakaocdn.net/dn/bbPUHO/btrT6eb4dcQ/fIejKX2niMMAB0urYEjik1/img.png)

## 키

- 테이블 간의 관계를 조금 더 명확하게 하고 테이블 자체의 인덱스를 위해 설정된 장치로 기본키, 외래키, 후보키, 슈퍼키, 대체키가 있다.

### 기본키 (PK, Primary Key)

- 유일성, 최소성을 만족

자연키와 인조키?

자연키 : 현실세계에서 고유 속성 그대로 기본키로 사용하는 방식이다.

ex) email, 전화번호 등 사용자의 고유한 정보

인조키 : DB 내부에서 생성된 의미 없는 고유 ID를 기본키로 주로 식별하기 위해 사용된다.

ex) auto increment id

### 외래키 (FK, Foreign Key)

- 다른 테이블의 기본키를 그대로 참조하는 값, 개체와 관계를 식별하는 데 사용

### 후보키 (Candidate Key)

- 기본키가 될 수 있는 후보들이며 유일성, 최소성을 동시에 만족
- 더 이상 속성을 제거할 수 없는 최소 유일 키

ex)

후보키:

- `{학번}`
- `{주민번호}`

### 대체키 (Alternate Key)

- 후보키가 두 개 이상일 경우 어느 하나를 기본키로 지정하고 남은 후보키를 말한다.
- 후보키 중에서 선택되지 않은 나머지가 대체키이다.

ex)

기본키로 `학번` 선택했다면:

- `주민번호` → **대체키**

### 슈퍼키 (Super Key)

- 각 레코드를 유일하게 식별할 수 있는 유일성을 갖춘 키
- 유일성을 보장하는 모든 키 조합 ⇒ 불필요한 속성이 포함될 수 있다.

ex)

- `{학번}`
- `{주민번호}`
- `{학번, 이름}`
- `{주민번호, 이름}`

### 참고 사이트

[알아두면 쓸데있는 데이터 모델링 (3) ER 모델의 구성 요소 - 엔티티, 속성, 관계](https://datarian.io/blog/what-are-the-components-of-er-diagrams-in-dbms)

[📋 데이터 모델링 개념 & ERD 다이어그램 작성 💯 총정리](https://inpa.tistory.com/entry/DB-%F0%9F%93%9A-%EB%8D%B0%EC%9D%B4%ED%84%B0-%EB%AA%A8%EB%8D%B8%EB%A7%81-1N-%EA%B4%80%EA%B3%84-%F0%9F%93%88-ERD-%EB%8B%A4%EC%9D%B4%EC%96%B4%EA%B7%B8%EB%9E%A8)

[[DB이론] 용어 : 테이블(TABLE), 레코드 (Record,Row,Tuple),필드 (Field,Attribute,Column),디그리 (Degree),카디널리티 (Cardinality),도메인(Domain)](https://ppiddunku.tistory.com/178)